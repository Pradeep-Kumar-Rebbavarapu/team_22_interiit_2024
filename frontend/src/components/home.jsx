"use client";

import { useState, useEffect } from "react";
import { Plus } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { BirdIcon as Cricket, Trophy, Users } from "lucide-react";
import { Icon } from "lucide-react";
import { cricketBall } from "@lucide/lab";
import Link from "next/link";
import "@/app/css/welcome.css";

export function ShowComponents({ matches }) {
  const [showGreet, setShowGreet] = useState(true);

  useEffect(() => {
    const timer = setTimeout(() => {
      setShowGreet(false);
    }, 2000);

    return () => clearTimeout(timer);
  }, []);

  if (showGreet) {
    return <Greet />;
  }

  return (
    <>
      <div className="min-h-screen bg-gradient-to-b from-red-900 to-red-800">
        <header className="flex items-center justify-between p-4 bg-red-900">
          <div className="flex items-center gap-2">
            <div className="h-8 w-8 rounded-full bg-white flex items-center justify-center">
              <Trophy className="h-5 w-5 text-red-900" />
            </div>
            <span className="text-white text-lg font-bold">Dream11</span>
          </div>
          <Link href="/AddMatch">
            <Button className="bg-green-600 hover:bg-green-700 text-white text-sm px-4 py-2 transition-all duration-300 ease-in-out hover:shadow-md active:scale-95">
              <Plus className="mr-2 h-4 w-4" />
              Add Match
            </Button>
          </Link>
        </header>

        <main className="px-4 py-6">
          <h1 className="mb-6 text-center text-2xl font-bold text-white">
            UPCOMING CRICKET MATCHES
          </h1>

          <div className="grid gap-4 sm:grid-cols-2 lg:grid-cols-4 justify-items-center">
            {matches &&
              matches.map((match) => (
                <Card
                  className="w-full max-w-md overflow-hidden bg-gradient-to-br from-green-50 to-blue-50 shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out hover:scale-[1.02]"
                  key={match.id}
                >
                  <CardContent className="p-6">
                    <div className="flex justify-between items-center mb-4">
                      <h3 className="text-xl font-bold text-gray-800">
                        {match.team_a} vs {match.team_b}
                      </h3>
                      <Badge
                        variant="secondary"
                        className="bg-blue-100 text-blue-700"
                      >
                        {match.date}
                      </Badge>
                    </div>

                    <div className="flex justify-between items-center mb-6">
                      <div className="text-center">
                        <div className="w-16 h-16 bg-white rounded-full shadow-inner flex items-center justify-center mb-2">
                          <Icon iconNode={cricketBall} />
                        </div>
                        <p className="text-sm font-medium text-gray-700">
                          {match.team_a}
                        </p>
                      </div>
                      <div className="text-2xl font-bold text-gray-800">VS</div>
                      <div className="text-center">
                        <div className="w-16 h-16 bg-white rounded-full shadow-inner flex items-center justify-center mb-2">
                          <Icon iconNode={cricketBall} />
                        </div>
                        <p className="text-sm font-medium text-gray-700">
                          {match.team_b}
                        </p>
                      </div>
                    </div>

                    <div className="flex justify-between mb-6">
                      <div className="text-center">
                        <Trophy className="w-6 h-6 text-yellow-500 mx-auto mb-1" />
                        <p className="text-xs text-gray-600">Prize Pool</p>
                        <p className="text-sm font-bold text-gray-800">
                          {match.prize_pool}
                        </p>
                      </div>
                      <div className="text-center">
                        <Trophy className="w-6 h-6 text-yellow-500 mx-auto mb-1" />
                        <p className="text-xs text-gray-600">1st Prize</p>
                        <p className="text-sm font-bold text-gray-800">
                          {match.first_prize}
                        </p>
                      </div>
                    </div>

                    <div className="flex justify-between mb-4 text-xs text-gray-600">
                      <div className="flex items-center">
                        <Users className="w-4 h-4 mr-1 text-green-600" />
                        <span>{match.teama_spots_left} spots left</span>
                      </div>
                      <div className="flex items-center">
                        <Users className="w-4 h-4 mr-1 text-blue-600" />
                        <span>{match.teamb_spots_left} spots left</span>
                      </div>
                    </div>

                    <div className="flex items-center justify-between">
                      <div>
                        <p className="text-xs text-gray-600">Join for</p>
                        <p>
                          <span className="text-xs text-gray-400 line-through">
                            ₹49
                          </span>{" "}
                          <span className="text-lg font-bold text-gray-800">
                            ₹{match.amount_to_be_paid}
                          </span>
                        </p>
                      </div>
                      <Link href={`EachMatch/${match.id}`}>
                        <Button className="bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-semibold px-6 py-2 rounded-full transition-all duration-300 ease-in-out hover:shadow-lg active:scale-95">
                          JOIN NOW
                        </Button>
                      </Link>
                    </div>
                  </CardContent>
                </Card>
              ))}
          </div>
        </main>
      </div>
    </>
  );
}

const Greet = () => {
  return (
    <div className="welcome">
      <div className="banner">
        <div className="title custom-svg">
          <img src="/images/d11.png" alt="" />
          <svg
            width="832"
            height="128"
            viewBox="0 0 208 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9.32 31C7.61333 31 6.08 30.72 4.72 30.16C3.38667 29.6 2.33333 28.7733 1.56 27.68C0.786667 26.56 0.4 25.16 0.4 23.48C0.4 22.4667 0.52 21.1467 0.76 19.52C1.02667 17.8933 1.34667 16.1067 1.72 14.16C2.09333 12.1867 2.45333 10.1867 2.8 8.16L0.68 3.88C2.17333 3.02666 3.6 2.33333 4.96 1.8C6.34667 1.26667 7.8 0.999999 9.32 0.999999C9.96 0.999999 10.4933 1.10667 10.92 1.32C11.3467 1.53333 11.6933 1.82666 11.96 2.2C13.1067 1.8 14.1867 1.50667 15.2 1.32C16.2133 1.13333 17.1733 1.04 18.08 1.04C20.5067 1.04 22.5333 1.58667 24.16 2.68C25.7867 3.77333 27 5.21333 27.8 7C28.6267 8.78667 29.04 10.7333 29.04 12.84C29.04 14.52 28.7733 16.2133 28.24 17.92C27.7333 19.6267 26.9467 21.2667 25.88 22.84C24.84 24.4133 23.5333 25.8133 21.96 27.04C20.3867 28.2667 18.5467 29.24 16.44 29.96C14.3333 30.6533 11.96 31 9.32 31ZM10.76 25.16C12.7867 25.16 14.48 24.6533 15.84 23.64C17.2267 22.6267 18.2667 21.2933 18.96 19.64C19.6533 17.9867 20 16.2 20 14.28C20 11.88 19.4533 9.93333 18.36 8.44C17.2667 6.92 15.64 6.16 13.48 6.16C13.24 6.16 12.9867 6.17333 12.72 6.2C12.4533 6.22667 12.1733 6.26667 11.88 6.32C11.72 7.38667 11.5067 8.72 11.24 10.32C11 11.92 10.72 13.6267 10.4 15.44C10.1067 17.2267 9.81333 18.9733 9.52 20.68C9.25333 22.36 9.04 23.8 8.88 25C9.2 25.0533 9.52 25.0933 9.84 25.12C10.16 25.1467 10.4667 25.16 10.76 25.16ZM36.3347 31.04C34.548 31.04 33.2814 30.5333 32.5347 29.52C31.8147 28.48 31.4547 26.92 31.4547 24.84C31.4547 23.5067 31.668 21.5067 32.0947 18.84C32.548 16.1467 33.1747 12.5867 33.9747 8.16L31.8547 3.88C33.108 3.08 34.4414 2.4 35.8547 1.84C37.268 1.28 38.6814 0.999999 40.0947 0.999999C40.8147 0.999999 41.6014 1.10667 42.4547 1.32C43.3347 1.53333 44.028 1.82666 44.5347 2.2C46.5347 1.4 48.3347 0.999999 49.9347 0.999999C51.668 0.999999 53.1214 1.4 54.2947 2.2C55.4947 3 56.4014 4.04 57.0147 5.32C57.628 6.6 57.9347 7.97333 57.9347 9.44C57.9347 11.0933 57.508 12.7333 56.6547 14.36C55.8014 15.9867 54.4947 17.3333 52.7347 18.4C53.3214 20.0533 53.9614 21.6 54.6547 23.04C55.3747 24.4533 56.1214 25.6667 56.8947 26.68C57.668 27.6667 58.428 28.3733 59.1747 28.8C58.8014 29.2 58.2814 29.5733 57.6147 29.92C56.948 30.24 56.2414 30.4933 55.4947 30.68C54.748 30.8933 54.068 31 53.4547 31C52.308 31 51.2947 30.8133 50.4147 30.44C49.5347 30.0933 48.748 29.44 48.0547 28.48C47.388 27.52 46.748 26.1733 46.1347 24.44L44.7347 20.4C43.348 20.4 41.948 20.1867 40.5347 19.76C40.2414 21.4667 40.0947 22.6933 40.0947 23.44C40.0947 24.8 40.188 25.9467 40.3747 26.88C40.588 27.8133 40.8947 28.6 41.2947 29.24C39.6947 30.44 38.0414 31.04 36.3347 31.04ZM42.2947 15.4C43.8147 15.4 45.068 15.1333 46.0547 14.6C47.068 14.04 47.8147 13.3467 48.2947 12.52C48.8014 11.6667 49.0547 10.8267 49.0547 10C49.0547 8.98667 48.7214 8.09333 48.0547 7.32C47.388 6.52 46.388 6.12 45.0547 6.12C44.3614 6.12 43.668 6.21333 42.9747 6.4C42.868 7.12 42.7347 7.98667 42.5747 9C42.4147 9.98667 42.2414 11.04 42.0547 12.16C41.868 13.2533 41.6414 14.32 41.3747 15.36C41.508 15.3867 41.6414 15.4 41.7747 15.4C41.9347 15.4 42.108 15.4 42.2947 15.4ZM65.6706 31.04C63.884 31.04 62.6173 30.5333 61.8706 29.52C61.1506 28.48 60.7906 26.92 60.7906 24.84C60.7906 23.5067 61.004 21.5067 61.4306 18.84C61.884 16.1467 62.5106 12.5867 63.3106 8.16L61.1906 3.88C62.444 3.08 63.7773 2.4 65.1906 1.84C66.604 1.25333 68.0173 0.96 69.4306 0.96C70.3373 0.96 71.004 1.17333 71.4306 1.6C71.884 2.02667 72.1906 2.56 72.3506 3.2C73.284 3.17333 74.3773 3.06667 75.6306 2.88C76.884 2.69333 78.204 2.45333 79.5906 2.16C80.9773 1.86667 82.324 1.53333 83.6306 1.16C83.764 1.66667 83.844 2.13333 83.8706 2.56C83.924 2.98667 83.9506 3.38667 83.9506 3.76C83.9506 5.28 83.604 6.52 82.9106 7.48C82.2173 8.44 81.284 9.14667 80.1106 9.6C78.964 10.0533 77.6973 10.28 76.3106 10.28C74.8173 10.28 73.324 9.96 71.8306 9.32C71.6706 10.2267 71.4973 11.1867 71.3106 12.2C71.124 13.1867 70.924 14.1867 70.7106 15.2C71.1373 15.28 71.5506 15.3467 71.9506 15.4C72.3773 15.4533 72.804 15.48 73.2306 15.48C73.764 15.3733 74.364 15.24 75.0306 15.08C75.724 14.8933 76.324 14.72 76.8306 14.56C76.9373 14.9067 76.9906 15.2667 76.9906 15.64C77.0173 15.9867 77.0306 16.2667 77.0306 16.48C77.0306 17.76 76.5906 18.6933 75.7106 19.28C74.8573 19.8667 73.844 20.16 72.6706 20.16C72.164 20.16 71.684 20.1333 71.2306 20.08C70.7773 20 70.324 19.9067 69.8706 19.8C69.7373 20.6 69.6306 21.36 69.5506 22.08C69.4706 22.8 69.4306 23.6267 69.4306 24.56H75.9106C77.9373 24.2667 79.9773 23.7467 82.0306 23C82.1373 23.2933 82.204 23.6 82.2306 23.92C82.2573 24.24 82.2706 24.5867 82.2706 24.96C82.2706 25.8933 82.084 26.8267 81.7106 27.76C81.3373 28.6933 80.764 29.4667 79.9906 30.08C79.2173 30.6933 78.244 31 77.0706 31C76.4573 31 75.8306 30.9467 75.1906 30.84C74.5506 30.7333 73.884 30.6133 73.1906 30.48C72.684 30.3733 72.1373 30.2667 71.5506 30.16C70.9906 30.0533 70.364 29.96 69.6706 29.88C68.3906 30.6533 67.0573 31.04 65.6706 31.04ZM86.4763 31.04C85.1696 31.04 84.2496 30.6533 83.7163 29.88C83.1829 29.08 82.9162 28.0267 82.9162 26.72C82.9162 25.7333 83.1029 24.6267 83.4763 23.4C83.8763 22.1733 84.3829 20.8933 84.9963 19.56C85.6096 18.2 86.2629 16.84 86.9563 15.48C87.6496 14.12 88.3163 12.8133 88.9563 11.56C89.6229 10.3067 90.1829 9.17333 90.6363 8.16C90.5029 7.49333 90.3429 6.78667 90.1563 6.04C89.9696 5.29333 89.7963 4.58667 89.6363 3.92C90.8363 3.09333 92.0896 2.4 93.3963 1.84C94.7029 1.28 96.2763 0.999999 98.1163 0.999999C98.8096 0.999999 99.3963 1.09333 99.8763 1.28C100.356 1.46667 100.73 1.70667 100.996 2C101.69 1.70667 102.37 1.46667 103.036 1.28C103.703 1.09333 104.41 0.999999 105.156 0.999999C106.17 0.999999 106.916 1.29333 107.396 1.88C107.876 2.44 108.183 3.17333 108.316 4.08C108.476 4.96 108.556 5.89333 108.556 6.88C108.556 8.4 108.503 9.93333 108.396 11.48C108.29 13.0267 108.236 14.6667 108.236 16.4C108.236 18.24 108.33 20.0267 108.516 21.76C108.703 23.4933 109.076 25.0267 109.636 26.36C110.196 27.6933 111.023 28.68 112.116 29.32C111.21 29.88 110.33 30.3067 109.476 30.6C108.65 30.8933 107.663 31.04 106.516 31.04C105.21 31.04 104.143 30.68 103.316 29.96C102.49 29.24 101.836 28.2667 101.356 27.04C100.903 25.8133 100.57 24.4533 100.356 22.96H92.1963C91.9563 23.7867 91.7696 24.5467 91.6363 25.24C91.5029 25.9067 91.4363 26.5067 91.4363 27.04C91.4363 27.8933 91.5429 28.6 91.7563 29.16C90.7696 29.7733 89.8496 30.24 88.9963 30.56C88.1429 30.88 87.3029 31.04 86.4763 31.04ZM93.8763 18.76H100.076C100.076 17.2667 100.09 15.92 100.116 14.72C100.17 13.52 100.223 12.3733 100.276 11.28C100.356 10.16 100.436 9 100.516 7.8H99.2363C98.3296 9.58667 97.3963 11.44 96.4363 13.36C95.4763 15.28 94.6229 17.08 93.8763 18.76ZM119.577 31.04C117.79 31.04 116.524 30.5333 115.777 29.52C115.057 28.48 114.697 26.92 114.697 24.84C114.697 23.5067 114.91 21.5067 115.337 18.84C115.79 16.1467 116.417 12.5867 117.217 8.16L115.097 3.88C116.35 3.08 117.684 2.4 119.097 1.84C120.51 1.25333 121.924 0.96 123.337 0.96C124.617 0.96 125.737 1.16 126.697 1.56C127.684 1.93333 128.537 2.66667 129.257 3.76C129.977 4.82666 130.577 6.4 131.057 8.48C131.564 10.5333 131.977 13.24 132.297 16.6H132.777C133.417 14.76 134.217 12.92 135.177 11.08C136.137 9.24 137.284 7.56 138.617 6.04C139.95 4.52 141.497 3.30667 143.257 2.4C145.044 1.46667 147.07 0.999999 149.337 0.999999C150.59 0.999999 151.417 1.37333 151.817 2.12C152.217 2.84 152.417 3.70667 152.417 4.72C152.417 5.14666 152.337 5.84 152.177 6.8C152.044 7.73333 151.857 8.82667 151.617 10.08C151.377 11.3067 151.124 12.6 150.857 13.96C150.617 15.2933 150.377 16.6 150.137 17.88C149.897 19.1333 149.697 20.2533 149.537 21.24C149.404 22.2 149.337 22.9333 149.337 23.44C149.337 24.8 149.43 25.9467 149.617 26.88C149.83 27.8133 150.137 28.6 150.537 29.24C148.937 30.44 147.284 31.04 145.577 31.04C143.79 31.04 142.524 30.5333 141.777 29.52C141.057 28.48 140.697 26.92 140.697 24.84C140.697 23.6933 140.857 22.0533 141.177 19.92C141.524 17.7867 141.99 15.04 142.577 11.68H141.937C140.79 13.2 139.79 14.9067 138.937 16.8C138.084 18.6667 137.404 20.5333 136.897 22.4C136.417 24.24 136.097 25.88 135.937 27.32C135.27 27.9333 134.537 28.4 133.737 28.72C132.964 29.0133 132.19 29.16 131.417 29.16C130.777 29.16 130.177 28.92 129.617 28.44C129.057 27.9333 128.537 27.0533 128.057 25.8C127.577 24.5467 127.15 22.7867 126.777 20.52C126.43 18.2267 126.15 15.28 125.937 11.68H125.297C124.95 13.2 124.63 14.76 124.337 16.36C124.044 17.9333 123.804 19.36 123.617 20.64C123.43 21.92 123.337 22.8533 123.337 23.44C123.337 24.8 123.43 25.9467 123.617 26.88C123.83 27.8133 124.137 28.6 124.537 29.24C122.937 30.44 121.284 31.04 119.577 31.04ZM177.894 31C176.081 31 174.801 30.36 174.054 29.08C173.308 27.8 172.934 26.1733 172.934 24.2C172.934 22.92 173.081 21.4667 173.374 19.84C173.668 18.1867 174.081 16.0133 174.614 13.32C173.521 13.32 172.468 13.12 171.454 12.72C170.468 12.2933 169.628 11.6267 168.934 10.72C168.241 9.81333 167.801 8.6 167.614 7.08C169.561 6.70667 171.228 6.24 172.614 5.68C174.028 5.09333 175.268 4.52 176.334 3.96C177.428 3.4 178.428 2.93333 179.334 2.56C180.241 2.18666 181.174 2 182.134 2C183.254 2 184.001 2.32 184.374 2.96C184.774 3.6 184.974 4.34667 184.974 5.2C184.974 6.29333 184.814 7.64 184.494 9.24C184.174 10.8133 183.814 12.5067 183.414 14.32C183.014 16.1333 182.654 17.9333 182.334 19.72C182.014 21.5067 181.854 23.16 181.854 24.68C181.854 26.6 182.241 28.2133 183.014 29.52C181.228 30.5067 179.521 31 177.894 31ZM200.668 31C198.854 31 197.574 30.36 196.828 29.08C196.081 27.8 195.708 26.1733 195.708 24.2C195.708 22.92 195.854 21.4667 196.148 19.84C196.441 18.1867 196.854 16.0133 197.388 13.32C196.294 13.32 195.241 13.12 194.228 12.72C193.241 12.2933 192.401 11.6267 191.708 10.72C191.014 9.81333 190.574 8.6 190.388 7.08C192.334 6.70667 194.001 6.24 195.388 5.68C196.801 5.09333 198.041 4.52 199.108 3.96C200.201 3.4 201.201 2.93333 202.108 2.56C203.014 2.18666 203.948 2 204.908 2C206.028 2 206.774 2.32 207.148 2.96C207.548 3.6 207.748 4.34667 207.748 5.2C207.748 6.29333 207.588 7.64 207.268 9.24C206.948 10.8133 206.588 12.5067 206.188 14.32C205.788 16.1333 205.428 17.9333 205.108 19.72C204.788 21.5067 204.628 23.16 204.628 24.68C204.628 26.6 205.014 28.2133 205.788 29.52C204.001 30.5067 202.294 31 200.668 31Z"
              fill="white"
            />
          </svg>
        </div>
      </div>
    </div>
  );
};

export default Greet;
